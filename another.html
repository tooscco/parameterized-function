<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>todo</title>
    <link rel="stylesheet" href="bootstrap.css">
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="first-fir-first-div">
        <div class="first-div col-lg-6 col-md-8 col-11 mt-2 p-lg-5 p-3 shadow-sm m-auto">
            <h1 class=" my-3 p-3 text-center">Tee-Store</h1>
            <p id="err" class="alert alert-danger text-center p-2 animate__animated animate__shakeX animate__infinite">Fill in the empty spaces</p>
            <form class="form-floating my-3 btndivDiv">
                <input type="text" class="form-control shadow-sm" id="todo" id="floatingInputInvalid" placeholder="Enter your item" value="">
                <label for="floatingInputInvalid">Enter your item</label>
              </form>
            <button onclick="submitTodo()" class="first-btn mt-3 bg-secondary ">Add item</button>
        </div>
        <div id="show" class="col-lg-6 col-md-8 col-11 m-auto p-3 mt-3 shadow-sm"></div>

  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Add to the beginning</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form class="form-floating my-3 btndivDiv">
            <input type="text" class="form-control shadow-sm" id="newTodo" id="floatingInputInvalid" placeholder="Enter your item" value="">
            <label for="floatingInputInvalid">Enter your item</label>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal" onclick="editTodo()">Save changes</button>
        </div>
      </div>
    </div>
  </div>



    <script>
        var allTodos = []
        var newIndex = 0
        function submitTodo(){
            if(todo.value===""){
                alert('Put something')
            } else{
                allTodos.push(todo.value)
                console.log(allTodos);
                showTodos()
                document.getElementById('todo').value=''
            }
        }

        function showTodos(){
          newTodo.value =todo.value
            show.innerHTML = ""
            var html =`<card class="row gap-5 ms-5">`
            allTodos.map((task, index) =>{
                html += `<div class="div div-sm border w-25 text-center col-4 bg-secondary-rgb">
                <h4>${index+1}</h4>
                <h6 style="text-tranform:capitalize;">${task}</h6>
                <button class="btn btn-sm my-3 mx-auto btn-warning" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="editedTodo(${index})">Edit</button>
                <button class="btn btn-sm my-3 mx-auto btn-danger" onclick="deleteTodo(${index})">delete</button>
                </div>
                `
            })
            html +=`</card>`
            document.getElementById('show').innerHTML = html;
        }

        function deleteTodo(i){
            var confirmation = confirm('Are you sure you want to do')
            if (confirmation)
            allTodos.splice(i, 1)
            showTodos()
        }

        function editedTodo(i){
            newIndex = i
        }


        function editTodo(){
            if(newTodo.value === ''){
                alert('input something')
            } else{
                allTodos.splice(newIndex, 1, newTodo.value)
                document.getElementById('newTodo').value = ''
                showTodos()
            }
        }
    </script>
</body>
</html>